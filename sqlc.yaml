version: "2"
sql:
  - engine: "sqlite"
    schema: "internal/store/migrations"
    queries: "db/query"
    gen:
      go:
        package: "db"
        out: "internal/db"
        overrides:
          - column: "folders.deleted_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "folders.last_seen_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "folders.last_scan_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "folders.last_scan_status"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "folders.last_scan_error"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "folders.created_at"
            go_type: "time.Time"
          - column: "folders.updated_at"
            go_type: "time.Time"

          - column: "artists.deleted_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "artists.created_at"
            go_type: "time.Time"
          - column: "artists.updated_at"
            go_type: "time.Time"

          - column: "albums.deleted_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "albums.image_path"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "albums.created_at"
            go_type: "time.Time"
          - column: "albums.updated_at"
            go_type: "time.Time"

          - column: "tracks.deleted_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "tracks.artist_id"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullInt64"
          - column: "tracks.album_id"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullInt64"
          - column: "tracks.genre"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "tracks.year"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullInt64"
          - column: "tracks.rating"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullInt64"
          - column: "tracks.duration_seconds"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullInt64"
          - column: "tracks.image_path"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "tracks.last_seen_at"
            go_type: "time.Time"
          - column: "tracks.created_at"
            go_type: "time.Time"
          - column: "tracks.updated_at"
            go_type: "time.Time"

          - column: "playlists.deleted_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "playlists.created_at"
            go_type: "time.Time"
          - column: "playlists.updated_at"
            go_type: "time.Time"

          - column: "playlist_tracks.deleted_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullTime"
          - column: "playlist_tracks.created_at"
            go_type: "time.Time"
          - column: "playlist_tracks.updated_at"
            go_type: "time.Time"

          - column: "journal_entries.body"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "journal_entries.status"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "journal_entries.scheduled_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "journal_entries.deadline_at"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "journal_entries.created_at"
            go_type: "time.Time"
          - column: "journal_entries.updated_at"
            go_type: "time.Time"

          - column: "task_transitions.reason"
            go_type:
              import: "bottomley.ian/musicserver/internal/dbtypes"
              package: "dbtypes"
              type: "NullString"
          - column: "task_transitions.changed_at"
            go_type: "time.Time"
